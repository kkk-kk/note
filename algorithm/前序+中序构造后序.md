# 前序+中序构造后序 

## 题目描述

已知某二叉树的先序序列和中序序列，编程计算并输出该二叉树的后序序列。

## 输入描述:

```
有多组数据，每组分为两行输入，第一行表示指定二叉树的先序序列，第二行表示该二叉树的中序序列，序列元素均为大写英文字符，表示二叉树的结点。
```

## 输出描述:

```
对于每组数组，在一行上输出该二叉树的后序序列。
```

## 解答

```c++
#include <iostream>
#include <string>
using namespace std;

typedef struct BTNode {
	char data;
	struct BTNode *lchild, *rchild;
}BTNode,*BTree;
string pre, in;

BTree PreInTree(BTree root, int pre_b, int in_b, int length) {
	if (length == 0) return NULL;
	root = new BTNode;
	root->data = pre[pre_b];
	int pos = in_b, in_e = in_b + length;
	while (pos < in_e && in[pos] != pre[pre_b]) {
		pos++;
	}
	if (pos == in_e) return NULL;     // error
	root->rchild = PreInTree(root->rchild, pre_b + 1 - in_b + pos, pos + 1, in_e - pos - 1);
	root->lchild = PreInTree(root->lchild, pre_b + 1, in_b,pos-in_b);
	return root;
}

void PostOrder(BTree root) {
	if (root == NULL) return;
	PostOrder(root->lchild);
	PostOrder(root->rchild);
	cout << root->data;
}
int main() {
	while (cin >> pre) {
		cin >> in;
		BTree bTree = NULL;
		bTree = PreInTree(bTree, 0, 0, in.size());
		PostOrder(bTree);
        cout << endl;
	}

}
```

