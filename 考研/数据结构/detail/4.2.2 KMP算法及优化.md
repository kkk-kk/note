求next值

```c++
void get_next(String T,int next[]){
	int i = 1,j = 0;
    next[1] = 0;
    while(i<T.length){
        if(j==0||T.ch[i] == T.ch[j]){
            ++i;++j;
            next[i] = j;  // Pi = Pj,则next[j+i] = next[j]+1
        }
        else
            j=next[j];    // 否则令j=next[j],循环继续
    }
}
```

KMP匹配算法

```c++
int Index_KMP(String S,String T,int next[]){ // T是模式串
	int i = 1,j = 1;
    while(i<=S.length && j<=T.length){
        if(j==0||S.ch[i] == T.ch[i]){
            ++i;++j;    // 相同，继续比较后续字符
        }
        else
            j=next[j];  // 模式串向右移动
    }
    if(j>T.length)
        return i-T.length;
    else
        return 0;
}
```

nextval

```c++
void get_nextval(String T,int nextval[]){
	int i=1,j=1;
    nextval[1] = 0;
    while(i<T.length){
        if(j==0||T.ch[i] == T.ch[j]){
            ++i;++j;
            if(T.ch[i]!=T.ch[j])
            	nextval[i] = j;  // Pi = Pj,则next[j+i] = next[j]+1
        	else 
                nextval[i] = nextval[j]
        }
        else
            j=nextval[j];    // 否则令j=next[j],循环继续
    }
}
```

