# 第一章 计算机系统概述

## 操作系统的基本概念

#### 操作系统的概念

计算机系统自下而上可分为：硬件、操作系统、应用程序、用户

操作系统**控制和协调**各**用户**的**应用程序**对**硬件**的==分配和使用==

操作系统（Operating System，OS）是指控制和管理整个计算机系统的硬件与软件资源，合理的组织、调度计算机的工作与资源的分配，进而为用户和其它软件提供方便接口与环境的程序集合。

操作系统是计算机系统中最基本的系统软件

#### 操作系统的特征

+ **并发 Concurrent **  分时 进程是资源分配的最小单位
+ **共享 Sharing**   互斥式共享、分时共享（同时访问共享）
+ **虚拟 Virtual**   虚拟处理器（时分复用技术）、虚拟存储器、虚拟设备（空分复用技术）
+ **异步 Asynchronism**   

#### 操作系统的目标和功能

1. 操作系统作为计算机系统资源的管理者
   + **处理机管理**：进程控制、进程同步、进程通信、死锁处理、处理机调度
   + **存储器管理**：内存分配与回收、地址映射、内存保护与共享、内存扩充
   + **文件管理**：存储空间的管理、目录管理、文件读写管理和保护
   + **设备管理**：缓冲管理、设备分配、设备处理、虚拟设备

2. 操作系统作为用户与计算机硬件系统之间的接口
   + **命令接口**  作业控制
     + **联机命令接口**（交互式命令接口）联机控制方式 分时或实时系统 由一组键盘操作命令组成
     + **脱机命令接口**（批处理命令接口）脱机控制方式 批处理系统 由一组作业控制命令组成
   + **程序接口** 由一组**系统调用**（广义指令）组成  GUI
3. 操作系统用作扩充机器    
   + 裸机 & 扩充机器（虚拟机）

## 操作系统的发展与分类

![image-20200418231526801](image-20200418231526801.png)

#### 手工操作阶段

+ 用户独占全机，资源利用率低
+ CPU等待手工操作，CPU利用不充分

#### 批处理阶段

##### 单道批处理系统

+ **自动性、顺序性、单道性**（内存中仅有一道程序运行）
+ 监督程序每次从磁带上只调入一道程序进入内存运行

##### 多道批处理系统

+ **多道、宏观上并行、微观上串行**

+ 把用户提交的作业成批的送入计算机内存，然后由作业调度程序自动的选择作业运行

+ 资源利用率高、系统吞吐量大（、I/O设备利用率高）
+ 用户响应的时间较长、不提供人机交互能力

#### 分时操作系统

+ 分时技术 快速响应
+ 多个用户通过终端同时共享一台主机，这写终端连接在主机上，用户可以同时与主机进行交互操作而互不干扰
+ **同时性、交互性、独立性、及时性**

#### 实时操作系统

+ 硬实时系统、软实时系统
+ **及时性、可靠性**

#### 网络操作系统

+ **网络中各种资源的共享、各台计算机之间的通信**

#### 分布式计算机系统

+ 若干计算机相互协同完成同一任务

+ **分布性、并行性**

#### 个人计算机操作系统

+ 目前最广泛（windows、Linux、Macintosh）

###### 嵌入式操作系统、服务器操作系统、智能手机操作系统、微型计算机操作系统（IBM-PC）

## 操作系统的运行环境

#### 运行机制

特权指令：I/O指令、置中断指令，存取用于内存保护的寄存器、送程序状态字到程序状态字寄存器等的指令

用户自编程序（应用程序） & 操作系统内核程序（管理程序） 分别运行在 **用户态（目态）** & **核心态（管态、内核态）** 

**内核**

+ 时钟管理
+ 中断机制
+ 原语
+ 系统控制的数据结构及处理